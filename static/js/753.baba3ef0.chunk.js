"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[753],{6081:function(t,e,n){n.d(e,{x:function(){return x}});var r,c=n(7689),a=n(2791),o=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(this,arguments)}function l(t,e){if(null==t)return{};var n,r,c=function(t,e){if(null==t)return{};var n,r,c={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function s(t,e){var n=t.title,c=t.titleId,s=l(t,o);return a.createElement("svg",i({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":c},s),n?a.createElement("title",{id:c},n):null,r||(r=a.createElement("g",{id:"Icons/Chevron (Arrow Right)"},a.createElement("path",{id:"Vector (Stroke)",fillRule:"evenodd",clipRule:"evenodd",d:"M10.4717 3.52861C10.2114 3.26826 9.78927 3.26826 9.52892 3.52861L5.52892 7.52861C5.26857 7.78896 5.26857 8.21107 5.52892 8.47141L9.52892 12.4714C9.78927 12.7318 10.2114 12.7318 10.4717 12.4714C10.7321 12.2111 10.7321 11.789 10.4717 11.5286L6.94313 8.00001L10.4717 4.47141C10.7321 4.21107 10.7321 3.78896 10.4717 3.52861Z",fill:"#313237"}))))}var u,d=a.forwardRef(s),_=(n.p,["title","titleId"]);function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f.apply(this,arguments)}function h(t,e){if(null==t)return{};var n,r,c=function(t,e){if(null==t)return{};var n,r,c={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function p(t,e){var n=t.title,r=t.titleId,c=h(t,_);return a.createElement("svg",f({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,u||(u=a.createElement("g",{id:"Icons/Chevron (Arrow Right)"},a.createElement("path",{id:"Vector (Stroke)",fillRule:"evenodd",clipRule:"evenodd",d:"M10.4717 3.52861C10.2114 3.26826 9.78927 3.26826 9.52892 3.52861L5.52892 7.52861C5.26857 7.78896 5.26857 8.21107 5.52892 8.47141L9.52892 12.4714C9.78927 12.7318 10.2114 12.7318 10.4717 12.4714C10.7321 12.2111 10.7321 11.789 10.4717 11.5286L6.94313 8.00001L10.4717 4.47141C10.7321 4.21107 10.7321 3.78896 10.4717 3.52861Z",fill:"#fff"}))))}var m=a.forwardRef(p),b=(n.p,n(9075)),v=n(184),x=function(){var t=(0,c.s0)(),e=a.useContext(b.T).darkTheme;return(0,v.jsx)("button",{type:"button",className:"back-button",onClick:function(){return t(-1)},children:e?(0,v.jsx)(m,{}):(0,v.jsx)(d,{})})}},8272:function(t,e,n){n.d(e,{n:function(){return c}});n(2791);var r=n(184),c=function(t){var e=t.title;return(0,r.jsxs)("div",{className:"cart__block",children:[(0,r.jsx)("h1",{className:"cart__title",children:"Your ".concat(e," is empty...")}),(0,r.jsx)("p",{className:"cart__subtitle",children:"But it's never too late to fix it!"}),(0,r.jsx)("a",{className:"back-home",href:"#/",children:"Go main page"})]})}},3753:function(t,e,n){n.r(e),n.d(e,{CartPage:function(){return b}});var r=n(9439),c=n(6081),a=n(2791),o=n(1694),i=n.n(o),l=n(7689),s=n(1087),u=n(2434),d=n(3427),_=n(3963),f=n(6591),h=n(442),p=n(8272),m=n(184),b=function(){var t=(0,a.useContext)(u.Vo),e=t.user,n=t.isAuth,o=(0,a.useContext)(u.Tr),b=o.darkTheme,v=o.notifyCartDelete,x=o.setFavProducts,g=(0,l.s0)(),j=(0,a.useContext)(u.A9),y=j.cart,k=j.setCart,C=j.handleAdd,N=j.handleDelete,w=j.handleRemove,O=(0,a.useState)(0),P=(0,r.Z)(O,2),E=P[0],I=P[1],L=(0,a.useState)(0),R=(0,r.Z)(L,2),S=R[0],B=R[1],A=(0,a.useState)(!1),G=(0,r.Z)(A,2),X=G[0],T=G[1];console.log("user",e,"isAuth",n),console.log(X),(0,a.useEffect)((function(){var t=y.reduce((function(t,e){return t+e.count*(e.discountPrice||e.fullPrice)}),0),e=y.reduce((function(t,e){return t+e.count}),0);B(e),I(t)}),[y]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.x,{}),(0,m.jsxs)("div",{className:"cart__page",children:[(0,m.jsx)("h1",{className:"cart__title",children:"Cart"}),0===y.length?(0,m.jsx)(p.n,{title:"cart"}):(0,m.jsxs)("div",{className:"cart__content",children:[(0,m.jsx)("section",{className:"cart__products",children:y.map((function(t){return(0,m.jsxs)("li",{className:"box cart__product",children:[(0,m.jsxs)("div",{className:"cart__product__main",children:[(0,m.jsx)("button",{className:"delete cart__product__button",type:"button",onClick:function(){w(t),v()},children:"x"}),(0,m.jsxs)(s.rU,{to:"/".concat((0,_.O)(t.category_id,f.cr),"/").concat(t.productId),relative:"path",className:"cart__product__link",children:[(0,m.jsx)("div",{className:"cart__product__image-block",children:(0,m.jsx)("img",{src:"".concat("https://res.cloudinary.com/myfinance/image/upload/v1693416024/syncwave/").concat(t.image),alt:t.name,className:"cart__product__image"})}),(0,m.jsx)("h2",{className:"cart__product__title",children:"".concat(t.name," (XXXXX)")})]})]}),(0,m.jsxs)("div",{className:"cart__product__info",children:[(0,m.jsxs)("div",{className:"cart__product__quantity",children:[(0,m.jsx)("button",{type:"button",className:i()("cart__product__counter-button",{"cart__product__counter-button__active":1!==t.count&&b}),disabled:1===t.count,onClick:function(){return N(t)},children:"-"}),(0,m.jsx)("p",{className:"cart__product__counter",children:t.count}),(0,m.jsx)("button",{type:"button",className:i()("cart__product__counter-button",{"cart__product__counter-button__active":b}),onClick:function(){return C(t)},children:"+"})]}),(0,m.jsx)("p",{className:"cart__product__price",children:"$".concat((t.discountPrice||t.fullPrice)*t.count)})]})]},t.itemId)}))}),(0,m.jsxs)("section",{className:"box cart__checkout",children:[(0,m.jsx)("h3",{className:"cart__checkout__full-price",children:"$".concat(E)}),(0,m.jsx)("p",{className:"cart__checkout__total-count",children:"Total for ".concat(S," items")}),(0,m.jsx)("hr",{className:"cart__checkout__line"}),(0,m.jsx)("button",{type:"button",className:"cart__checkout__button",onClick:function(){if(e){var t={userId:e.id,totalPrice:E,quantity:S};h.X.postOrder(t).then((function(){return g(d.i.Users,{replace:!0})})).then((function(){x([]),k([])})).catch((function(){return T(!0)}))}else g(d.i.Login,{replace:!0})},children:"Checkout"})]})]})]})]})}},6591:function(t,e,n){n.d(e,{NV:function(){return a},cr:function(){return c},rW:function(){return r}});var r={1:"32GB",2:"64GB",3:"128GB",4:"256GB",5:"512GB"},c={1:"phones",2:"tablets",3:"accessories"},a={1:"black",2:"gold",3:"yellow",4:"green",5:"silver",6:"spacegray",7:"red",8:"white",9:"purple",10:"midnightgreen",11:"coral",12:"rosegold",13:"gray",14:"blue",15:"pink"}},3963:function(t,e,n){function r(t,e){return e[t]}n.d(e,{O:function(){return r}})}}]);
//# sourceMappingURL=753.baba3ef0.chunk.js.map