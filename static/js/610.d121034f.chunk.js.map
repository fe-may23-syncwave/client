{"version":3,"file":"static/js/610.d121034f.chunk.js","mappings":"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","sources":["components/ProductCard/buttons/AddToCartButton.tsx","components/ProductCard/buttons/FavouritesButton.tsx","utils/fetchPhones.ts","context/MainContext.tsx","utils/localStorageHook.ts","api/favorites.ts","pages/FavoritesPage/FavoritesPage.tsx","components/ProductCard/ProductCard.tsx","pages/ProductsList/ProductsList.tsx","../node_modules/classnames/index.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"sourcesContent":["import classNames from 'classnames';\nimport { Phone } from 'types/PhoneType';\n\ninterface Props{\n  product: Phone,\n  styles: string[],\n}\n\nexport const AddToCartButton: React.FC<Props> = ({ product, styles }) => {\n  const isAddedToCart = false;\n\n  // eslint-disable-next-line no-console\n  console.log(product);\n\n  return (\n    <div className=\"cart-button\">\n      <button\n        type=\"button\"\n        className={classNames(styles[0], {\n          [styles[1]]: isAddedToCart,\n        })}\n      >\n        {isAddedToCart ? 'Added to cart' : 'Add to cart'}\n      </button>\n    </div>\n  );\n};\n","import classNames from 'classnames';\nimport { MainContext } from 'context/MainContext';\nimport React from 'react';\nimport { Phone } from 'types/PhoneType';\n\ninterface Props{\n  product: Phone,\n  styles: string[],\n}\n\nexport const FavouritesButton: React.FC<Props> = ({ product, styles }) => {\n  const {\n    products, handleLike,\n  } = React.useContext(MainContext);\n\n  const isFav = products.find(curr => curr.phoneId === product.phoneId);\n\n  return (\n    <div className=\"favourites-button\">\n      <button\n        type=\"button\"\n        className={classNames(styles[0], {\n          [styles[1]]: isFav,\n        })}\n        onClick={() => handleLike(product)}\n      >\n        <p hidden>add to favourites</p>\n      </button>\n    </div>\n  );\n};\n","const BASE_URL = 'http://localhost:4000';\n// the link should be changed when the server is ready\n\nfunction wait(delay: number) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction request<T>(url: string): Promise<T> {\n  return wait(300)\n    .then(() => fetch(BASE_URL + url))\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error();\n      }\n\n      return response.json();\n    });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n};\n","import { getFavorites } from 'api/favorites';\nimport React, { createContext, useEffect, useState } from 'react';\nimport { MainContextType } from 'types/MainContext';\nimport { Phone } from 'types/PhoneType';\nimport { useLocalStorage } from 'utils/localStorageHook';\n\nexport const MainContext = createContext<MainContextType>({\n  favProducts: [],\n  hasErrorOnFav: false,\n  products: [],\n  handleLike: () => {},\n});\n\ninterface Props {\n  children: JSX.Element;\n}\n\nexport const Context: React.FC<Props> = ({ children }) => {\n  const [products, setProducts] = useLocalStorage<Phone[]>(\n    'favorite-products', [],\n  );\n\n  const [favProducts, setFavProducts] = useState<Phone[]>([]);\n  const [hasErrorOnFav, setHasErrorOnFav] = useState(false);\n\n  useEffect(() => {\n    getFavorites('/favorites')\n      .then(setFavProducts)\n      .catch(() => setHasErrorOnFav(true));\n  }, []);\n\n  const handleLike = (product: Phone) => {\n    const isFav = products.find(curr => curr.phoneId === product.phoneId);\n\n    if (isFav) {\n      const newSet = products.filter(curr => curr.phoneId !== product.phoneId);\n\n      setProducts(newSet);\n\n      return;\n    }\n\n    const newSet = [...products, product];\n\n    setProducts(newSet);\n  };\n\n  const params = {\n    favProducts,\n    hasErrorOnFav,\n    products,\n    handleLike,\n  };\n\n  return <MainContext.Provider value={params}>{children}</MainContext.Provider>;\n};\n","import { useEffect, useState } from 'react';\nimport { Phone } from 'types/PhoneType';\n\nexport function useLocalStorage<T>(\n  key: string, startValue: T,\n): [T, (value: Phone[]) => void] {\n  const [value, setValue] = useState(() => {\n    const data = localStorage.getItem(key);\n\n    if (data === null) {\n      return startValue;\n    }\n\n    try {\n      return JSON.parse(data);\n    } catch (e) {\n      localStorage.removeItem(key);\n\n      return startValue;\n    }\n  });\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(value));\n  }, [value]);\n\n  return [value, setValue];\n}\n","import { Phone } from 'types/PhoneType';\nimport { client } from '../utils/fetchPhones';\n\nexport const getFavorites = (url: string) => {\n  return client.get<Phone[]>(url);\n};\n","/* eslint-disable no-console */\nimport { MainContext } from 'context/MainContext';\nimport { ProductsList } from 'pages/ProductsList';\nimport React from 'react';\n\nimport './FavoritesPage.scss';\n\nexport const FavoritesPage: React.FC = () => {\n  const {\n    favProducts, hasErrorOnFav, products,\n  } = React.useContext(MainContext);\n\n  console.log(favProducts, hasErrorOnFav);\n\n  return (\n    <>\n      <h1 className=\"favourites__title\">Favourites</h1>\n      {/* {!hasErrorOnFav && (\n        <p className=\"favourites__subtitle\">{`${favProducts.length} models`}</p>\n      )}\n      {hasErrorOnFav && (\n        <h2 className=\"favourites__title\">There is some problems</h2>\n      )} */}\n\n      {/* {favProducts.length > 0 && !hasErrorOnFav && (\n        <ProductsList products={favProducts} />\n      )} */}\n\n      {/* commented for testing */}\n\n      <ProductsList products={products} />\n      {/* remove this line when DB is ready */}\n    </>\n  );\n};\n","/* eslint-disable max-len */\nimport './ProductCard.scss';\nimport { Link } from 'react-router-dom';\nimport { Phone } from '../../types/PhoneType';\nimport { AddToCartButton, FavouritesButton } from './buttons';\n\nconst CLOUDINARY\n  = 'https://res.cloudinary.com/myfinance/image/upload/v1693416024/syncwave/';\n\ninterface Props {\n  product: Phone;\n}\n\nexport const ProductCard: React.FC<Props> = ({ product }) => {\n  return (\n    <li className=\"product\">\n      <Link to={product.phoneId} className=\"product__link\">\n        <img\n          src={`${CLOUDINARY}/${product.image}`}\n          alt={product.name}\n          className=\"product__image\"\n        />\n        <h2 className=\"product__title\">{`${product.name} (XXXXX)`}</h2>\n      </Link>\n\n      <div className=\"product__prices\">\n        <p className=\"product__price\">{`$${product.price}`}</p>\n        <p className=\"product__price-full\">{`$${product.fullPrice}`}</p>\n      </div>\n\n      <div className=\"product__info\">\n        <div className=\"product__info-block\">\n          <p className=\"product__info-title\">Screen</p>\n          <p className=\"product__info-data\">{product.screen}</p>\n        </div>\n        <div className=\"product__info-block\">\n          <p className=\"product__info-title\">Capacity</p>\n          <p className=\"product__info-data\">{product.capacity}</p>\n        </div>\n        <div className=\"product__info-block\">\n          <p className=\"product__info-title\">RAM</p>\n          <p className=\"product__info-data\">{product.ram}</p>\n        </div>\n      </div>\n\n      <div className=\"product__buttons\">\n        <AddToCartButton\n          product={product}\n          styles={['product__add', 'product__add--active']}\n        />\n        <FavouritesButton\n          product={product}\n          styles={['product__favourites', 'product__favourites--active']}\n        />\n      </div>\n    </li>\n  );\n};\n","import React from 'react';\nimport { ProductCard } from 'components/ProductCard';\nimport { Phone } from 'types/PhoneType';\nimport './ProductsList.scss';\n\ninterface Props {\n  products: Phone[];\n}\n\nexport const ProductsList: React.FC<Props> = ({ products }) => {\n  return (\n    <section className=\"products\">\n      {products.map((product) => (\n        <ProductCard product={product} key={product.id} />\n      ))}\n    </section>\n  );\n};\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}"],"names":["AddToCartButton","_ref","product","styles","console","log","_jsx","className","children","type","classNames","_defineProperty","FavouritesButton","_React$useContext","React","MainContext","products","handleLike","isFav","find","curr","phoneId","onClick","hidden","request","url","delay","Promise","resolve","setTimeout","then","fetch","response","ok","Error","json","client","createContext","favProducts","hasErrorOnFav","Context","_useLocalStorage","key","startValue","_useState","useState","data","localStorage","getItem","JSON","parse","e","removeItem","_useState2","_slicedToArray","value","setValue","useEffect","setItem","stringify","useLocalStorage","_useLocalStorage2","setProducts","setFavProducts","_useState3","_useState4","setHasErrorOnFav","catch","params","newSet","filter","concat","_toConsumableArray","Provider","FavoritesPage","_jsxs","_Fragment","ProductsList","ProductCard","Link","to","src","image","alt","name","price","fullPrice","screen","capacity","ram","map","id","hasOwn","hasOwnProperty","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","includes","call","join","module","exports","default","obj","defineProperty","enumerable","configurable","writable"],"sourceRoot":""}